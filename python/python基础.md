# python基础语法

## pycharm使用
* 快捷键ctrl+/，将当前行全部注释
* 若代码中的单行长度过长，可以通过右键行号栏设置自动换行
* 选中多行，使用ctrl+/快捷键可以将所选区域的所有行每行全部注释
* 可以设置运行脚本的快捷键，在file-settings...-keymap中设置，其实所有的快捷键都可以在这里设置。设置快捷键时需要注意不要和windows中已经使用的快捷键冲突

## 注释
* 单行注释
>起始符号：#
* 多行注释
>以"""开始，以"""结束

## 其他语法
行末不需要分号，即换行符相当于c++和java中的分号  
以缩进划分代码层次  
### 输入输出语句
输出
> 语法：print(要输出的内容)，print("格式化字符串"%变量列表)  
> 格式化字符串格式与java、c++相似，需要注意的是格式化字符串中要添加多个参数时，参数列表需要用括号括起来  

输入
> 语法：变量 = input(要显示的信息，可以不写)
> input函数默认返回的是字符串，若是要输入其他类型，需要对输入的值进行类型转换，见[数据类型转换](#数据类型转换)

## 变量
### 特殊说明
python中使用变量不需要声明，但是要操作的变量在操作之前必须被赋值  
python中的变量没有固定的数据类型

### 标识符
命名规则
>只能使用字母、数字和下划线，不能以数字开头
>不能包含空格
>不能与关键字相同  

特殊说明
>标识符应该见名知意
>要遵守命名规范，如驼峰命名法

### 数据类型
Number（数字）
> int（整型）  
> float（浮点型）  
> complex（复数）  
> bool（布尔）  
>> 1为真，0为假  
>> 可用于做标记或者逻辑判断  
>> 三元运算，语法：**变量 if 条件 else 另一个条件**

String（字符串）
> 使用单引号（''）或双引号（""）定义字符串  
> 可以使用加号（+）拼接字符串  
> 使用乘号（*）拼接重复字符串  
也可以使用三个单引号（'''''')或三个双引号（""""""）定义  
> **转义符**与java和c++相同
> 截取字符串，语法：变量名\[起始位置:结束位置\]，包前不包后  
> **格式化字符串**占位符与c++相同，字符串与数据之间用%分隔  
> 字符串中嵌入变量，语法：f"字符串内容\[变量名\]字符串内容"

List（列表，也叫数组）  
> 是有序排列的集合  
> 下标从0开始  
> 数组中可以同时存放不同类型的数据  
> 列表中通常只存放同种类型的数据，方便操作  
> 列表可以使用加号（+）进行拼接，也可以使用方括号进行剪切，也可以使用乘号（*）进行重复拼接  


Tuple（元组）  
> 语法:单个元素的元组(元素1,)；两个及两个以上元素:(元素1,元素2,...,元素n)  
> 有序集合  
> 无法更改

Sets（集合）  
> 语法:{元素1,元素2};空集合:set()  
> 无序不重复的元素序列  
>> 集合之间的运算：
>> a-b:a中包含但b中不包含的元素,即减集  
>> a|b:a中包含或b中包含的元素,即并集  
>> a&b:a中包含且b中也不包含的元素,即交集
>> a^b:a与b的并集与a与b的交集的减集

Dictionary（字典）  
> 语法：{键值1:数据1,键值2:数据2,...}  
> 字典是一个无序集合，元素总是成对出现的，且键值是唯一的  
> 字典是通过键值取值的  

#### 查看数据类型
type(变量名)
#### 数据类型转换
int(变量名)：将变量转换为数字  
float(变量名)：将变量转换为浮点数  
str(变量名)：将变量转换为字符串  
bool(变量名)：将变量转换为布尔值

### 注意事项
* 1和True的区别：使用过程中没什么区别，python会自动进行类型转换
* 除零以外的非空变量都为True

## 运算符
算数运算符  
> +,-,*,/：四则运算  
> %：取余
> \*\*：取幂  
> //：取整除，返回商的整数部分  
 
赋值运算符
> =,+=,-=,*=,/=,%=,//=;将左操作数与右操作数运算(=不进行运算)后赋值给左操作数  
 
比较运算符
> ==|!=|\>|<|\>=|<=  
  :-:|:-:|:-:|:-:|:-:|:-:  
  相等|不相等|大于|小于|大于等于|小于等于  


## 序列数据操作
基本操作
> 获取元素的方式：通过下标或者使用切片
> 获取列表中元素个数：len(列表名)  
> 修改列表内容：通过下标修改内容，或者通过切片的方式修改元素或增删元素  
> **检查元素是否在列表中：变量 in 列表名，变量 not in 列表名**  

 插入
> append(值)在列表末尾插入一个元素  
> insert(下标,值)在指定下标插入一个元素

 删除
> **del 变量：将变量置空，之后无法再直接使用**  
> **clear()清空数组，数组变量依然存在**  
> pop()删除数组中的最后一个元素，可以指定元素下标  
> remove(值)删除与传入值相等的第一个元素

 反转列表
> reverse()

 **排序**
> sort()默认升序  
> 逆序排列，需传参reverse=True  
> 可以指定排序函数：sort(key = 函数名)

 遍历列表
> for val in arr:

常用函数
> len(数组名)返回数组长度，即数组中元素的个数  
> max(),min()返回数组的最大值与最小值  
> extentd()拓展数组  
> **count(值)返回数组中与值相等的元素的个数**  
> index(值)返回数组中第一个与值相等的元素的下标  
> copy()复制数组

## 条件控制语句
语法
```
if 条件 :  
    代码块  
elif 条件 :  
    代码块  
else :  
    代码块  
```

##循环控制语句
### for循环
语法
```
for value in arr:
    循环体
else:
    代码段
```
变量value会从头到尾取遍arr序列中的值，直到取完，每取一个值，执行一遍循环体  
注意
> 只有当循环正常结束时，才会执行else中的代码  
> 所以使用break跳出循环时，else分支上的代码不会执行  
> value只是arr中元素的一个副本，在循环体中对value的修改不会影响到arr中的数据
> 若想要修改arr中的数据，需要使用下标的方式访问数据。具体如下：

```
for i in range(len(arr)):
    arr[i] = 1
    ...
```

### while循环
语法
```
while 条件:
    循环体
else:
    代码块
```
当条件为真时，执行循环体  
else分支的执行情况与for循环一致

### 控制语句
break
> 跳出循环

continue
> 跳出本次循环

pass
> 什么也不做，相当于空语句，仅为占位符

## 随机数
导入随机数模块  
使用randint()函数生成随机整数
```
import random

random.randint(1,100)
```
#### 注意
python中的randomint函数的返回值范围是包括范围两端的数字的

## 函数

匿名函数
> 语法：变量 = lambda 参数列表: 表达式

### 参数
必须参数
> 调用时必须传入，否则会报错

关键字参数
> 调用时可以通过定义函数时的参数列表中的参数名来指定参数的值  

可选参数
> 函数定义时在参数列表中直接赋值，使用时可以不用传入该参数，函数内参数值为默认值  
> 可选参数必须在参数列表的末尾处  

不定长参数
> 语法：在变量名之前加一个星号（\*）或加两个星号（\*\*）  
> 不定长参数可以接受任意个数的参数  
> 加一个星号的参数存放方式为元组，传入的参数值为元组元素  
> 加两个星号的参数存放方式为字典，传入参数的参数名为键值，参数值为字典值

可更改和不可更改参数
> 不可变类型：strings, tuples, 和 numbers  
> 可变类型：list,dict 等  
> 不可变参数在函数体内被修改后不会影响到外部变量的值  
> 可变参数在函数体内被操作后，外部变量的值也会被影响

### 作用域
局部作用域
> 只能在当前程序块中使用  
> 可以使用**nonlocal**提高一级作用域

闭包函数外的函数中
> 闭包  
>> 函数返回值为另一个函数，例如：

```
def a():
    x = 2
    return lambda :x
```
>> 作用：获取函数内部变量

全局作用域
> 程序中任何位置都可以访问与修改  
> 可以使用**global**将局部作用域提升至全局作用域

内置作用域

## 字符串
### 常用处理函数
#### 基础函数
字符串分割
> 即字符串->列表
> split(表达式)

字符填充
> center(width,fullchar = ' ')  
> 返回一个字符串，该字符串将原字符串填充至字符串长度与指定宽度相等，填充的字符默认为空格  
> 当要填充的字符适量为奇数时，在字符串前面填充的字符会比后面填充的字符数多一个  
> fullchar参数必须为字符（即用单引号引起来的单个字符）  
> 该函数不会修改原字符串  

制表符转空格
> expendtabs(tabsize=8)  
> 将字符串中的制表符转换为tibsize个空格，默认为8  
> 该函数不会修改原字符串  

#### 数字相关识别
isalnum()
> 如果字符串至少有一个字符并且所有字符都是字母或数字则返回 True,否则返回 False  
> 若包含特殊字符，返回False  
> 中文不算特殊字符

isnumeric()
> 如果字符串中只包含数字字符，则返回 True，否则返回 False  

isdigit()
> 如果字符串只包含阿拉伯数字则返回 True 否则返回 False  

#### 字符串大小写操作
capitalize()
> 将字符串第一个字母转为大写  

upper()
> 将字符串中的小写字母全部转化为大写字母  
> 该函数不会修改原字符串  

lower()
> 将字符串中的大写字母全部转化为小写字母  
> 该函数不会修改原字符串  

swapcase() 
> 将字符串中的大写字母全部转化为小写字母，小写字母全部转化为大写字母  
> 该函数不会修改原字符串  

islower()
>如果字符串中包含至少一个区分大小写的字符，并且所有这些(区分大小写的)字符都是小写，则返回 True，否则返回 False  

isupper()
>如果字符串中包含至少一个区分大小写的字符，并且所有这些(区分大小写的)字符都是大写，则返回 True，否则返回 False  

istitle()
>如果字符串是标题化的(见 title())则返回 True，否则返回 False  
首字母是不是大写 并且不能有驼峰类型单词出现

#### 字符串替换
replace(old,new[,max])
> 将字符串中的old子字符串全部替换为new字符串，可以通过传入max参数来指定最大的替换次数

join(sql)
> 

使用映射表进行转换
> 流程：

```
str = "afasdgadgad"
trans = str.maketrans("a","|")
str2 = str.translate(trans)
```
> 注意：maketrans方法的两个参数的长度必须相等
> 该方式是按单个字符进行替换的，不是将参数作为整体进行查找的

删除空格
> 左侧：lstrip()  
> 右侧：rstrip()

#### 识别相关
isspace()
> 如果字符串中只包含空白，则返回 True，否则返回 False.
> 也可以包含制表符（\t，也就是Tab键）和换行符（\n,也就是回车）

isalpha()
> 如果字符串至少有一个字符并且所有字符都是字母则返回 True, 否则返回 False  
> 全是中文也返回True

#### 查找相关
find(str,beg = 0, end = len(string))  
rfind(str,beg = 0, end = len(string))
> 返回在字符串中查找到的第一个与str匹配的子字符串的首位字符的下标  
> 若没有找到匹配项，返回-1 
> find是从左到右进行查找，rfind是从右向左查找  
> 可以通过设置beg和end设置查找的区间，该区间包括beg，不包括end，两个函数都一样

index(str, beg=0, end=len(string))  
rindex(str, beg=0, end=len(string))
> 正常返回与find和rfind相同 
> 若没有找到匹配项，则会抛出异常  
> 参数情况与find和rfind相同

count(str, beg= 0,end=len(string)) 
> 返回 str 在 string 里面出现的次数  
> 如果 beg 或者 end 指定则返回指定范围内 str 出现的次数  
> 参数情况与find和rfind相同

starswith(substr, beg=0,end=len(string))  
> 检查字符串是否是以指定子字符串 substr 开头，是则返回 True，否则返回 False  
> 如果beg 和 end 指定值，则在指定范围内检查。

endswith(substr, beg=0,end=len(string))
> 检查字符串是否以 substr 结束  
> 如果beg 或者 end 指定则检查指定的范围内是否以 substr 结束，如果是，返回 True,否则返回 False.

max()  
min()
> 返回字符串 str 中最大/小的字母。  
> 也可以是中文  
> 实质是返回Unicode编码值最大/小的字符

## 模块
是一个python文件。  
包含对象和函数的定义  
优点
> 能够更有逻辑的组织代码  
> 提高代码的可用性，可读性和健壮性

### 模块的引用
import语句
> 基本语法：

```
import modname
import modname as name  #给模块起别名，方便使用
from modname import name1[, name2[, ... nameN]]  #避免查询整个py文件，这种方法导入的函数可以直接用函数名调用
from modname import *  #导入模块内所有的内容，这种方法导入的函数可以直接用函数名调用
```

### 模块的使用
引入  
模块名.函数名  
一个模块只会被导入一次  
如果模块里的内容发生了改变，可以通过reload函数重新读取

### 搜索路径
1. 当前目录
2. 如果不在当前目录，Python 则搜索在 shell 变量 PYTHONPATH 下的每个目录。
3. 如果都找不到，Python会察看默认路径。UNIX下，默认路径一般为/usr/local/lib/python/

### 命名空间和作用域

### 包

## 拓展
### json
是一种数据格式，由键值对构成  
最外层是一个花括号  
是由键值对组成 很像字典  
键使用双引号表示->对应的值
> 字符串：双引号  
> 数组：中括号
> 字典：花括号

## 文件操作
打开文件
> open函数

操作文件
> 

关闭文件
> close函数

## 类 
创建类  

self参数
> 类内方法定义时的第一个参数  

构造函数
> __init__(self)

类方法
> 直接使用类名调用，不需要（也没必要）使用实例化对象

### 内置对象
#### 时间与日期
time
> 获取时间戳  
> > time.time()
> > 返回一个标准时间戳
> 获取本地时间  
> >time.localtime(rs)
> >传入一个时间戳，返回一个时间元组
> 时间元祖  
> 格式化时间

## 经验总结
变量的作用域  
对序列数据类型进行remove操作后，序列会自动对齐，不会留空位，在循环中使用时要注意进行相关操作  

## python中的文件路径
相对路径
> 直接以文件名开头，或以./开头，或以../开头的都是相对路径  
> 相对路径是相对于当前正在运行的文件所在位置而言的，所以不能在模块文件中使用相对路径，需要将相对路径作为参数传入  
> 直接以文件名开头和以./开头的文件路径是在当前路径下的文件  
> 以../开头的文件名是当前文件的父目录下的文件

绝对路径
> 以/开头的文件名，表示在当前根目录下搜索文件  