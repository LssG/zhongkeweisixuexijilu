# Linux

## 登录方式
命令行登录  
ssh登录  
> 默认ssh服务端口号为 22  
> > 常见默认服务端口号  
> > > SSH 服务器  
> > > 22  
> > > Web 服务器  
> > > 80  
> > > HTTPS  
> > > 443  
> > > FTP 服务器  
> > > 21  
> 
> ```
> ssh [-p port] user@remote  
> ```
> > user 是在远程机器上的用户名，如果不指定的话默认为当前用户  
> > remote 是远程机器的地址，可以是 IP／域名，或者是 后面会提到的别名  
> > port 是 SSH Server 监听的端口，如果不指定，就为默认值 22  
>
> 启动ssh服务  
> > 安装ufw防火墙工具 开启22端口号  
> > 进入etc/ssh   ssh_config解除端口号的注释  
> > 安装openssh-server service ssh start(/etc/init.d/ssh start)    

图形界面登录

## 命令提示符
超级管理员
> 可以进行任何操作，拥有系统的最高权限

普通用户
> 操作可能受限

命令的基本格式
```
[root@localhost ~]# 命令[选项][参数]
```
命令提示符解释
> root：显示的是当前的登录用户，现在使用的是 root 用户登录。  
> @：分隔符号，没有特殊含义。  
> localhost：当前系统的简写主机名（完整主机名是 localhost.localdomain）。  
> ~：代表用户当前所在的目录，此例中用户当前所在的目录是家目录。  
> \#：命令提示符，Linux 用这个符号标识登录的用户权限等级。如果是超级用户，提示符就是 #；如果是普通用户，提示符就是 $。

## 用户相关
设置超级管理员密码
```
sudo passwd root
```

切换用户
> 普通用户切换到管理员用户  
> ```
> sudo su  
> ```
> 切换到普通用户  
> ```
> su 用户名  
> ``` 

新增用户
```
adduser 用户名
```

删除用户
```
deluser 用户名
```

查看用户列表
```
cat /etc/passwd
```

## 清屏
```
ctrl + l
```

## 目录结构
系统启动必须
> /boot：这里存放的是启动Linux时使用的一些核心文件，包括一些连接文件以及镜像文件。  
> /etc：这个目录用来存放所有的系统管理所需要的配置文件和子目录。  
> /lib：这个目录里存放着系统最基本的动态连接共享库，其作用类似于Windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库。  
> /sys：这是linux2.6内核的一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统 sysfs 。  

指令集合
> /bin：bin是Binary的缩写, 这个目录存放着最经常使用的命令。  
> /sbin：s就是Super User的意思，这里存放的是系统管理员使用的系统管理程序。  

外部文件管理
> /media：linux系统会自动识别一些设备，例如U盘、光驱等等，当识别后，linux会把识别的设备挂载到这个目录下。  
> /dev ：dev是Device(设备)的缩写, 该目录下存放的是Linux的外部设备，在Linux中访问设备的方式和访问文件的方式是相同的。  
> /mnt：系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将光驱挂载在/mnt/上，然后进入该目录就可以查看光驱里的内容了。  

临时文件
> /lost+found：这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。  
> /run：是一个临时文件系统，存储系统启动以来的信息。当系统重启时，这个目录下的文件应该被删掉或清除。如果你的系统上有 /var/run目录，应该让它指向 run。  
> /tmp：这个目录是用来存放一些临时文件的。  

账户相关
> /home：用户的主目录，在Linux中，每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的。  
> /root：该目录为系统管理员，也称作超级权限者的用户主目录。  
> /usr：这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似于windows下的program files目录。  
> /usr/bin：系统用户使用的应用程序。  
> /usr/sbin：超级用户使用的比较高级的管理程序和系统守护程序。  
> /usr/src：内核源代码默认的放置目录。  

运行过程中要用
> /proc：管理内存空间！虚拟的目录，是系统内存的映射，我们可以直接访问这个目录来，获取系统信息。这个目录的内容不在硬盘上而是在内存里，我们也可以直接修改里面的某些文件来做修改  
> /var：存放经常修改的数据，比如程序运行的日志文件（/var/log 目录下）  

扩展用的
> /opt：这是给主机额外安装软件所摆放的目录。比如你安装一个ORACLE数据库则就可以放到这个目录下。默认是空的。  
> /srv：该目录存放一些服务启动之后需要提取的数据。  

/selinux： 这个目录是Redhat/CentOS所特有的目录，Selinux是一个安全机制，类似于windows的防火墙，但是这套机制比较复杂，这个目录就是存放selinux相关的文件的。  
注意
> 目录名或文件名都是区分大小写的  
> 有两个特殊的目录，一个是用户所在的工作目录，即当前目录，可用一个点“.”表示；另一个是当前目录的上一层目录，也叫父目录，用两个点“..”表示。 如果一个目录或文件名是以一个点开始，就表示这个目录或文件是一个隐藏目录或文件。即以默认方式査找时，不显示该目录或文件。  

## 网络相关
ifconfig
> 显示或设置网络设备  
> 网卡相关  
> > lo （loopback） 回环接口 本地环路接口   
> > 一般回环接口的ip v4地址为:127.0.0.1，子网掩码：255.255.255.0  
> > 虚拟网络接口:并非真实存在，并不真实地从外界接收和发送数据包， 而是在系统内部接收和发送数据包，因此虚拟网络接口不需要驱动程序  
> > 一个本地进程为另一个本地进程产生的, 它们将通过外出链的lo接口,然后返回进入链的lo接口  

ping
> ping命令用于检测主机

## 文件相关
相对路径 绝对路径
> 绝对路径 cd /usr/local/src  
> 相对路径 cd etc

cd [目录名]
> 切换文件夹

特殊符号
> ~ 代表当前登录用户的主目录  
> ~用户名 表示切换至指定用户的主目录  
> - 代表上次所在目录  
> . 代表当前目录  
> .. 代表上级目录  
> /   根目录  

## 权限相关
chmod [ u / g / o / a ] [ + / - / = ] [ r / w / x ] file
> ugoa
> > u：User，即文件或目录的拥有者   
> > g：Group，即文件或目录的所属群组   
> > o：Other，除了文件或目录拥有者和所属群组外，其他用户都属于这个范围   
> > a：All，即全部用户  

> +-=  
> > +表示增加权限   
> > -表示取消权限   
> > =表示取消之前的权限，并给予唯一的权限  

> rwx-  
> > r：读取权限，数字代号为 “4”   
> > w：写入权限，数字代号为 “2”   
> > x：执行权限，数字代号为 “1”   
> > -：不具备任何权限，数字代号为 “0”  

总结
> -rw------- (600) 只有所有者才有读和写的权限  
> -rw-r--r-- (644) 只有所有者才有读和写的权限，组群和其他人只有读的权限  
> -rwx------ (700) 只有所有者才有读，写，执行的权限  
> -rwxr-xr-x (755) 只有所有者才有读，写，执行的权限，组群和其他人只有读和执行的权限  
> -rwx--x--x (711) 只有所有者才有读，写，执行的权限，组群和其他人只有执行的权限  
> -rw-rw-rw- (666) 每个人都有读写的权限  
> -rwxrwxrwx (777) 每个人都有读写和执行的权限   

## 系统
查看或配置网卡信息 
> ifconfig  
> \# 查看网卡对应的 IP 地址 $ ifconfig | grep inet  
> ping  

whoami who
> 相当于id -un 查看当前用户名称

sudo
> 使用root权限执行命令，需要输入当前用户的密码

date
> 获取系统当前时间

logout
> 登出用户

roboot
> -n : 在重开机前不做将记忆体资料写回硬盘的动作   
> -w : 并不会真的重开机，只是把记录写到 /var/log/wtmp 档案里  
> -d : 不把记录写到 /var/log/wtmp 档案里（-n 这个参数包含了 -d）  
> -f : 强迫重开机，不呼叫 shutdown 这个指令  
> -i : 在重开机之前先把所有网络相关的装置先停止  

shutdown
> 关机/重启   
> 选项  
> > -r: 重新启动

设置命令的别名  
> alias[别名]=[指令名称]

## 备份压缩
tar命令可以用来压缩打包单文件、多个文件、单个目录、多个目录
常用格式
> 单个文件压缩打包 tar czvf my.tar.gz file1  
> 多个文件压缩打包 tar czvf my.tar.gz file1 file2,...（file*）（也可以给file*文件mv 目录在压缩）  
> 单个目录压缩打包 tar czvf my.tar.gz dir1  
> 多个目录压缩打包 tar czvf my.tar.gz dir1 dir2   
> 解包至当前目录：tar xzvf my.tar.gz  

参数
> -c ：建立一个压缩文件的参数指令(create 的意思)；  
> -x ：解开一个压缩文件的参数指令！  
> -t ：查看 tarfile 里面的文件！  
> *特别注意，在参数的下达中， c/x/t 仅能存在一个！不可同时存在！*  
> -z ：是否需要用 gzip 压缩  
> -j ：是否需要用 bzip2 压缩  
> -v ：压缩的过程中显示文件  
> -f ：使用档名，请留意，在 f 之后要立即接档名不要再加参数！  
> > 　　　例如使用『 tar -zcvfP tfile sfile』就是错误的写法，要写成  
> > 　　　tar -zcvPf tfile sfile  

> -p ：使用原文件的原来属性（属性不会依据使用者而变）  
> -P ：可以使用绝对路径来压缩！  
> -N ：比后面接的日期(yyyy/mm/dd)还要新的才会被打包进新建的文件中！  

## 开发环境安装
sudo apt-get install xxx  
更新apt  
重定义命令 alias python='/usr/bin/python3.4'  

## 常用命令
ls
> list  
> 查看当前文件夹下的内容  
> 选项  
> > -a 显示所有文件及目录 (ls内定将文件名或目录名称开头为"."的视为隐藏档，不会列出)  
> > -l 除文件名称外，亦将文件型态、权限、拥有者、文件大小等资讯详细列出  
> > -r 将文件以相反次序显示(原定依英文字母次序)  
> > -t 将文件依建立时间之先后次序列出  
> > -A 同 -a ，但不列出 "." (目前目录) 及 ".." (父目录)  
> > -F 在列出的文件名称后加一符号；例如可执行档则加 "*", 目录则加 "/"  
> > -R 若目录下有文件，则以下之文件亦皆依序列出  

pwd
> print wrok directory  
> 查看当前所在文件夹

cd [目录名]
> change directory  
> 切换文件夹 

touch [文件名]
> touch  
> 如果文件不存在，新建文件

mkdir [目录名]
> make directory -p  
> 创建目录

rm [文件名]
> remove  
> 删除指定的文件名  
> 选项  
> > -f　　　　-force　　　　　　忽略不存在的文件，强制删除，无任何提示  
> > -r | -R　　--recursive　　　  递归式地删除列出的目录下的所有目录和文件

cp
> copy  
> 拷贝  
> 选项  
> > -f：覆盖已经存在的目标文件而不给出提示  
> > -i：与-f选项相反，在覆盖目标文件之前给出提示，要求用户确认是否覆盖，回答"y"时目标文件将被覆盖  
> > -r：若给出的源文件是一个目录文件，此时将复制该目录下所有的子目录和文件  

mv
> move    
> 移动  
> 选项  
> > -i: 若指定目录已有同名文件，则先询问是否覆盖旧文件;  
> > -f: 在mv操作要覆盖某已有的目标文件时不给任何指示; 

clear
> clear  
> 清屏

## shell
Shell 是一个命令行解释器 Shell 的版本有很多种，如 Bourne Shell、C Shell、Bash、ksh、tcsh 等  
基本格式
> .sh尾缀  
> 文件开头 !/bin/bash

执行
> 赋予执行权限 chmod 755 hello.sh  
> ./文件